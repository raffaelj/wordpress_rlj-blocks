!function(e){function t(n){if(l[n])return l[n].exports;var r=l[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var l={};t.m=e,t.c=l,t.d=function(e,l,n){t.o(e,l)||Object.defineProperty(e,l,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(l,"a",l),l},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});l(1)},function(e,t,l){"use strict";var n=l(2),r=(l.n(n),"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),__=wp.i18n.__,a=wp.blocks.registerBlockType,o=wp.editor,i=(o.BlockControls,o.BlockIcon,o.InnerBlocks),u=o.InspectorControls,s=o.MediaPlaceholder,c=o.MediaUpload,d=o.MediaUploadCheck,m=wp.components,p=m.Button,b=m.FormToggle,g=m.PanelBody,f=m.PanelRow,h=m.SelectControl,w=["image"],y=wp.element.createElement,k=wp.compose.createHigherOrderComponent(function(e){return function(t){var l=y(e,t);return"rlj/section"===t.name&&"undefined"===typeof t.insertBlocksAfter&&(l=y("div",{})),y(wp.element.Fragment,{},l)}},"allowSectionStyles");wp.hooks.addFilter("editor.BlockEdit","rlj/section",k),a("rlj/section",{title:__("Section"),icon:"layout",category:"common",keywords:[__("rlj-blocks"),__("Background"),__("Wrapper")],supports:{align:["full","wide"],anchor:!0},styles:[{name:"default",label:__("Default"),isDefault:!0},{name:"rounded",label:__("Rounded")},{name:"shadow",label:__("Shadow")},{name:"shadow-rounded",label:__("Shadow + Rounded")}],attributes:{url:{type:"string"},size:{type:"string",default:"full"},sizes:{type:"object"},id:{type:"number"},hasParallax:{type:"boolean",default:!1},hideBackgroundWhileEditing:{type:"boolean",default:!1}},edit:function(e){var t=null,l=e.className,n={maxHeight:"150px",margin:"0 auto"};return e.attributes.url&&(e.attributes.hideBackgroundWhileEditing||(t={backgroundImage:"url("+e.attributes.url+")"}),l+=" has-background",e.attributes.hasParallax&&(l+=" has-parallax")),[wp.element.createElement(u,null,wp.element.createElement(g,null,wp.element.createElement(f,null,!e.attributes.url&&wp.element.createElement(s,{labels:{title:__("Background"),instructions:__("Upload an image or pick one from your media library.")},onSelect:function(t){e.setAttributes({id:t.id,url:t.url,sizes:t.sizes})},accept:"image/*",allowedTypes:w,notices:e.noticeUI,onError:e.onUploadError})),e.attributes.url&&wp.element.createElement(f,null,wp.element.createElement("img",{src:e.attributes.url,style:n})),e.attributes.url&&wp.element.createElement(f,null,wp.element.createElement(d,null,wp.element.createElement(c,{onSelect:function(t){e.setAttributes({id:t.id,url:t.url,sizes:t.sizes})},allowedTypes:w,value:e.attributes.id,render:function(e){var t=e.open;return wp.element.createElement(p,{onClick:t,className:"button button-large"},__("Change background"))}}))),e.attributes.url&&wp.element.createElement(f,null,wp.element.createElement(p,{onClick:function(){e.setAttributes({id:null,url:null})},className:"button button-large"},__("Remove background"))),e.attributes.url&&wp.element.createElement(f,null,wp.element.createElement(h,{label:__("Image Size"),value:e.attributes.size||"",options:function(){return"object"==r(e.attributes.sizes)?Object.keys(e.attributes.sizes).map(function(e){return{label:e,value:e}}):[]}(),onChange:function(t){e.setAttributes({size:t,url:e.attributes.sizes[t].url})}})),e.attributes.url&&wp.element.createElement(f,null,wp.element.createElement("label",{htmlFor:"rlj-section-has-parallax"},__("Fixed background","rlj")),wp.element.createElement(b,{id:"rlj-section-has-parallax",label:__("Fixed background","rlj"),checked:e.attributes.hasParallax,onChange:function(){e.setAttributes({hasParallax:!e.attributes.hasParallax})}})),e.attributes.url&&wp.element.createElement(f,null,wp.element.createElement("label",{htmlFor:"rlj-section-hide-background"},__("Hide background while editing","rlj")),wp.element.createElement(b,{id:"rlj-section-hide-background",label:__("Hide background while editing","rlj"),checked:e.attributes.hideBackgroundWhileEditing,onChange:function(){e.setAttributes({hideBackgroundWhileEditing:!e.attributes.hideBackgroundWhileEditing})}})))),wp.element.createElement("div",{className:l,style:t},wp.element.createElement(i,null))]},save:function(e){var t=null,l="";return e.attributes.url&&(t={backgroundImage:"url("+e.attributes.url+")"},l+=" has-background",e.attributes.hasParallax&&(l+=" has-parallax")),wp.element.createElement("div",{className:l,style:t},wp.element.createElement(i.Content,null))}})},function(e,t){}]);